{"version":3,"file":"src_app_pages_team_teamCreate_module_ts.js","mappings":"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","sources":["./src/app/pages/team/teamCreate.module.ts","./src/app/pages/team/teamCreate.page.ts","./src/app/pages/team/teams-routing.module.ts","./src/app/services/team/team.model.ts","./src/app/services/team/team.service.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormBuilder, ReactiveFormsModule } from '@angular/forms';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { TeamCreatePageRoutingModule } from './teams-routing.module';\r\n\r\nimport { TeamCreatePage } from './teamCreate.page';\r\n\r\n@NgModule({\r\n  imports: [CommonModule, ReactiveFormsModule, IonicModule, TeamCreatePageRoutingModule, TranslateModule],\r\n  declarations: [TeamCreatePage],\r\n  providers: [FormBuilder],\r\n})\r\nexport class TeamCreatePageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { NavController, ToastController } from '@ionic/angular';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Observable } from 'rxjs';\r\nimport { EventsService } from 'src/app/services/events/events.service';\r\nimport { finalize } from 'rxjs/operators';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { TeamService } from 'src/app/services/team/team.service';\r\nimport { Team } from 'src/app/services/team/team.model';\r\nimport { AccountService } from 'src/app/services/auth/account.service';\r\nimport { Account } from 'src/model/account.model';\r\nimport { Router, RouterModule } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-teamCreate',\r\n  templateUrl: './teamCreate.page.html',\r\n  styleUrls: ['./teamCreate.page.scss'],\r\n})\r\nexport class TeamCreatePage implements OnInit {\r\n  isSaving = false;\r\n  isSubmitted = false;\r\n  private team: FormGroup;\r\n  account: Account;\r\n\r\n  constructor(\r\n    public teamService: TeamService,\r\n    public navController: NavController,\r\n    public toastController: ToastController,\r\n    public translateService: TranslateService,\r\n    private router: Router,\r\n    private accountService: AccountService,\r\n    protected fb: FormBuilder\r\n  ) {\r\n    this.team = this.fb.group({\r\n      name: [''],\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.team = this.fb.group({\r\n      name: ['', [Validators.required, Validators.minLength(3)]],\r\n    });\r\n    this.accountService.identity().then(account => {\r\n      if (account != null) {\r\n        this.account = account;\r\n      }\r\n    });\r\n  }\r\n\r\n  get errorControl() {\r\n    return this.team.controls;\r\n  }\r\n\r\n  async save() {\r\n    const toastCreado = await this.toastController.create({\r\n      message: 'El equipo ha sido creado',\r\n      duration: 2000,\r\n      position: 'top',\r\n      color: 'light',\r\n    });\r\n    this.isSaving = true;\r\n    this.isSubmitted = true;\r\n    if (!this.team.valid) {\r\n      console.log('Please provide all the required values!');\r\n      return false;\r\n    } else {\r\n      toastCreado.present();\r\n    }\r\n    const team = this.createFrom(this.team.value['name'], this.account.id);\r\n    this.subscribeToSaveResponse(this.teamService.create(team));\r\n    if (this.isSubmitted) {\r\n      this.router.navigate(['/tabs/teamCreate']);\r\n    }\r\n  }\r\n\r\n  protected subscribeToSaveResponse(result: Observable<ArrayBuffer>): void {\r\n    result.pipe(finalize(() => this.onSaveFinalize())).subscribe({\r\n      next: () => this.onSaveSuccess(),\r\n      error: () => this.onSaveError(),\r\n    });\r\n  }\r\n\r\n  protected createFrom(name, userId): Team {\r\n    return {\r\n      ...new Team(),\r\n      name: name,\r\n      userId: userId,\r\n    };\r\n  }\r\n\r\n  protected onSaveSuccess(): void {}\r\n\r\n  protected onSaveError(): void {\r\n    // Api for inheritance.\r\n  }\r\n\r\n  protected onSaveFinalize(): void {}\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { TeamCreatePage } from './teamCreate.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: TeamCreatePage,\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class TeamCreatePageRoutingModule {}\r\n","import { Match } from '../match/match.model';\r\n\r\nexport class Team {\r\n  public id?: number;\r\n  public name?: string;\r\n  public matches?: Match[];\r\n  public userId?: number;\r\n\r\n  constructor(id?: number, name?: string, matches?: Match[], userId?: number) {\r\n    this.id = id ? id : null;\r\n    this.name = name ? name : null;\r\n    this.matches = matches ? matches : null;\r\n    this.userId = userId ? userId : null;\r\n  }\r\n}\r\n","import { HttpClient, HttpResponse } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { ApiService } from '../api/api.service';\r\nimport { Team } from './team.model';\r\nimport { environment } from 'src/environments/environment';\r\n\r\nexport type EntityArrayResponseType = HttpResponse<Team[]>;\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class TeamService {\r\n  constructor(public http: HttpClient, public apiService: ApiService) {}\r\n\r\n  public static API_URL = environment.apiUrl;\r\n\r\n  create(team) {\r\n    return this.apiService.post('teams', team, { observe: 'response' });\r\n  }\r\n  get() {\r\n    return this.http.get<Team[]>(ApiService.API_URL + '/teams', { observe: 'response' });\r\n  }\r\n\r\n  getById(id) {\r\n    return this.http.get<Team>(ApiService.API_URL + '/teams/' + id, { observe: 'response' });\r\n  }\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}