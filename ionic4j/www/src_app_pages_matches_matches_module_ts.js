"use strict";
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["src_app_pages_matches_matches_module_ts"],{

/***/ 96954:
/*!************************************************************!*\
  !*** ./src/app/pages/matches/matches.page.scss?ngResource ***!
  \************************************************************/
/***/ ((module) => {

module.exports = ".padre {\n  display: flex;\n}\n\n.new-btn {\n  --background: #fbdb5c;\n  white-space: normal;\n  color: rgba(0, 0, 0, 0.75);\n}\n\n.stats {\n  --background: #fbdb5c;\n  white-space: normal;\n  color: rgba(39, 37, 37, 0.75);\n}\n\nion-icon {\n  padding-right: 7px;\n}\n\n.first {\n  background-color: #7aee80;\n  color: #000;\n  border: 1px solid #abdfa9;\n  padding: 5px 5px;\n  border-collapse: collapse;\n  justify-content: center;\n}\n\n.table-responsive {\n  font-family: \"Arial\";\n  margin: 25px auto;\n  border-collapse: collapse;\n  border: 1px solid #eee;\n  text-align: center;\n  white-space: normal;\n  border-bottom: 2px solid #4cb050;\n  box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.1), 0px 10px 20px rgba(0, 0, 0, 0.05), 0px 20px 20px rgba(0, 0, 0, 0.05), 0px 30px 20px rgba(0, 0, 0, 0.05);\n}\n\n.second {\n  color: #959595;\n  border: 1px solid #eee;\n  padding: 5px 5px;\n  border-collapse: collapse;\n}\n\n.col {\n  width: 70px;\n  white-space: normal;\n  justify-content: center;\n}\n\n.colP {\n  width: 70px;\n  white-space: normal;\n  padding-top: 20px;\n  justify-content: center;\n}\n\n.col1 {\n  width: 70px;\n  white-space: normal;\n  font-size: 17px;\n  justify-content: center;\n  text-overflow: inherit;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hdGNoZXMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBQTtBQUNGOztBQUNBO0VBQ0UscUJBQUE7RUFDQSxtQkFBQTtFQUNBLDBCQUFBO0FBRUY7O0FBQUE7RUFDRSxxQkFBQTtFQUNBLG1CQUFBO0VBQ0EsNkJBQUE7QUFHRjs7QUFEQTtFQUNFLGtCQUFBO0FBSUY7O0FBRkE7RUFDRSx5QkFBQTtFQUNBLFdBQUE7RUFDQSx5QkFBQTtFQUNBLGdCQUFBO0VBQ0EseUJBQUE7RUFDQSx1QkFBQTtBQUtGOztBQUhBO0VBQ0Usb0JBQUE7RUFDQSxpQkFBQTtFQUNBLHlCQUFBO0VBQ0Esc0JBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0EsZ0NBQUE7RUFDQSxvSkFBQTtBQU1GOztBQUhBO0VBQ0UsY0FBQTtFQUNBLHNCQUFBO0VBQ0EsZ0JBQUE7RUFDQSx5QkFBQTtBQU1GOztBQUpBO0VBQ0UsV0FBQTtFQUNBLG1CQUFBO0VBRUEsdUJBQUE7QUFNRjs7QUFKQTtFQUNFLFdBQUE7RUFDQSxtQkFBQTtFQUNBLGlCQUFBO0VBQ0EsdUJBQUE7QUFPRjs7QUFMQTtFQUNFLFdBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7RUFDQSx1QkFBQTtFQUNBLHNCQUFBO0FBUUYiLCJmaWxlIjoibWF0Y2hlcy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucGFkcmUge1xuICBkaXNwbGF5OiBmbGV4O1xufVxuLm5ldy1idG4ge1xuICAtLWJhY2tncm91bmQ6ICNmYmRiNWM7XG4gIHdoaXRlLXNwYWNlOiBub3JtYWw7XG4gIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNzUpO1xufVxuLnN0YXRzIHtcbiAgLS1iYWNrZ3JvdW5kOiAjZmJkYjVjO1xuICB3aGl0ZS1zcGFjZTogbm9ybWFsO1xuICBjb2xvcjogcmdiYSgzOSwgMzcsIDM3LCAwLjc1KTtcbn1cbmlvbi1pY29uIHtcbiAgcGFkZGluZy1yaWdodDogN3B4O1xufVxuLmZpcnN0IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzdhZWU4MDtcbiAgY29sb3I6ICMwMDA7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHJnYigxNzEsIDIyMywgMTY5KTtcbiAgcGFkZGluZzogNXB4IDVweDtcbiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG59XG4udGFibGUtcmVzcG9uc2l2ZSB7XG4gIGZvbnQtZmFtaWx5OiAnQXJpYWwnO1xuICBtYXJnaW46IDI1cHggYXV0bztcbiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcbiAgYm9yZGVyOiAxcHggc29saWQgI2VlZTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB3aGl0ZS1zcGFjZTogbm9ybWFsO1xuICBib3JkZXItYm90dG9tOiAycHggc29saWQgIzRjYjA1MDtcbiAgYm94LXNoYWRvdzogMHB4IDBweCAyMHB4IHJnYmEoMCwgMCwgMCwgMC4xKSwgMHB4IDEwcHggMjBweCByZ2JhKDAsIDAsIDAsIDAuMDUpLCAwcHggMjBweCAyMHB4IHJnYmEoMCwgMCwgMCwgMC4wNSksXG4gICAgMHB4IDMwcHggMjBweCByZ2JhKDAsIDAsIDAsIDAuMDUpO1xufVxuLnNlY29uZCB7XG4gIGNvbG9yOiAjOTU5NTk1O1xuICBib3JkZXI6IDFweCBzb2xpZCAjZWVlO1xuICBwYWRkaW5nOiA1cHggNXB4O1xuICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xufVxuLmNvbCB7XG4gIHdpZHRoOiA3MHB4O1xuICB3aGl0ZS1zcGFjZTogbm9ybWFsO1xuXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuLmNvbFAge1xuICB3aWR0aDogNzBweDtcbiAgd2hpdGUtc3BhY2U6IG5vcm1hbDtcbiAgcGFkZGluZy10b3A6IDIwcHg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuLmNvbDEge1xuICB3aWR0aDogNzBweDtcbiAgd2hpdGUtc3BhY2U6IG5vcm1hbDtcbiAgZm9udC1zaXplOiAxN3B4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgdGV4dC1vdmVyZmxvdzogaW5oZXJpdDtcbn1cbiJdfQ== */";

/***/ }),

/***/ 82541:
/*!************************************************************!*\
  !*** ./src/app/pages/matches/matches.page.html?ngResource ***!
  \************************************************************/
/***/ ((module) => {

module.exports = "<ion-header>\n  <ion-toolbar>\n    <ion-title>{{ 'PARTIDOS' | translate }}</ion-title>\n    <ion-buttons slot=\"end\">\n      <div class=\"padre\" *ngIf=\"admin === true\">\n        <ion-button class=\"new-btn\" [routerLink]=\"['/matches/new']\">\n          <ion-icon icon=\"add-circle\"></ion-icon>{{ 'NUEVO_PARTIDO' | translate }}\n        </ion-button>\n      </div>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <div>\n    <ion-searchbar (ionChange)=\"search($event.target.value)\" showCancelButton=\"focus\" animated></ion-searchbar>\n  </div>\n\n    <ion-refresher slot=\"fixed\" (ionRefresh)=\"doRefresh($event)\">\n      <ion-refresher-content></ion-refresher-content>\n    </ion-refresher>\n  \n  <div class=\"table-responsive\" id=\"entities\">\n    <ion-row class=\"first\">\n      <ion-col class=\"col1\">{{ 'EQUIPO_LOCAL' | translate }}</ion-col>\n      <ion-col class=\"col1\">{{ 'EQUIPO_VISITANTE' | translate }}</ion-col>\n      <ion-col class=\"col1\">{{ 'FECHA' | translate }}</ion-col>\n      <ion-col class=\"col1\">{{ 'ANALIZAR' | translate }}</ion-col>\n    </ion-row>\n    <div *ngIf=\"matches?.length != 0\">\n      <ion-row *ngFor=\"let match of matchesFiltered; trackBy: trackId\" #slidingItem class=\"second\">\n        <ion-col class=\"colP\">{{ match.localId }}</ion-col>\n        <ion-col class=\"colP\">{{ match.awayId }}</ion-col>\n        <ion-col class=\"colP\">{{stringToDate(match.matchDay)}}</ion-col>\n\n        <ion-col class=\"col\">\n          <ion-button *ngIf=\"dateValue(match.matchDay)\" class=\"stats\" [routerLink]=\"['/stats/new/',match.id]\">\n            <ion-icon icon=\"podium\"></ion-icon\n          ></ion-button>\n        </ion-col>\n      </ion-row>\n    </div>\n  </div>\n\n  <div class=\"alert alert-warning\" id=\"no-result\" *ngIf=\"matches?.length === 0\">\n    <ion-title>{{ 'NO_FOUND' | translate }}</ion-title>\n  </div>\n</ion-content>\n";

/***/ }),

/***/ 29283:
/*!*********************************************************!*\
  !*** ./src/app/pages/matches/matches-routing.module.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MatchesPageRoutingModule": () => (/* binding */ MatchesPageRoutingModule)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tslib */ 34929);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ 3184);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ 52816);
/* harmony import */ var src_app_services_auth_user_route_access_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/app/services/auth/user-route-access.service */ 51284);
/* harmony import */ var _matches_page__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./matches.page */ 49289);





const routes = [
    {
        path: '',
        component: _matches_page__WEBPACK_IMPORTED_MODULE_1__.MatchesPage,
        data: {
            authorities: ['ROLE_USER'],
        },
        canActivate: [src_app_services_auth_user_route_access_service__WEBPACK_IMPORTED_MODULE_0__.UserRouteAccessService],
    },
];
let MatchesPageRoutingModule = class MatchesPageRoutingModule {
};
MatchesPageRoutingModule = (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__decorate)([
    (0,_angular_core__WEBPACK_IMPORTED_MODULE_3__.NgModule)({
        imports: [_angular_router__WEBPACK_IMPORTED_MODULE_4__.RouterModule.forChild(routes)],
        exports: [_angular_router__WEBPACK_IMPORTED_MODULE_4__.RouterModule],
    })
], MatchesPageRoutingModule);



/***/ }),

/***/ 73904:
/*!*************************************************!*\
  !*** ./src/app/pages/matches/matches.module.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MatchesPageModule": () => (/* binding */ MatchesPageModule)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tslib */ 34929);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ 3184);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ 36362);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/forms */ 90587);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ngx-translate/core */ 87514);
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ionic/angular */ 93819);
/* harmony import */ var ng2_search_filter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ng2-search-filter */ 9991);
/* harmony import */ var _matches_routing_module__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./matches-routing.module */ 29283);
/* harmony import */ var _matches_page__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./matches.page */ 49289);









let MatchesPageModule = class MatchesPageModule {
};
MatchesPageModule = (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__decorate)([
    (0,_angular_core__WEBPACK_IMPORTED_MODULE_4__.NgModule)({
        imports: [_angular_common__WEBPACK_IMPORTED_MODULE_5__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_6__.ReactiveFormsModule, _ionic_angular__WEBPACK_IMPORTED_MODULE_7__.IonicModule, _matches_routing_module__WEBPACK_IMPORTED_MODULE_1__.MatchesPageRoutingModule, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_8__.TranslateModule, ng2_search_filter__WEBPACK_IMPORTED_MODULE_0__.Ng2SearchPipeModule],
        declarations: [_matches_page__WEBPACK_IMPORTED_MODULE_2__.MatchesPage],
        providers: [_angular_forms__WEBPACK_IMPORTED_MODULE_6__.FormBuilder],
        exports: [ng2_search_filter__WEBPACK_IMPORTED_MODULE_0__.Ng2SearchPipeModule],
    })
], MatchesPageModule);



/***/ }),

/***/ 49289:
/*!***********************************************!*\
  !*** ./src/app/pages/matches/matches.page.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MatchesPage": () => (/* binding */ MatchesPage)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! tslib */ 34929);
/* harmony import */ var _matches_page_html_ngResource__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./matches.page.html?ngResource */ 82541);
/* harmony import */ var _matches_page_scss_ngResource__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./matches.page.scss?ngResource */ 96954);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/core */ 3184);
/* harmony import */ var src_app_services_match_match_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/match/match.service */ 82661);
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ 99048);
/* harmony import */ var src_app_services_team_team_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/team/team.service */ 40790);
/* harmony import */ var _services_auth_account_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/auth/account.service */ 150);
/* harmony import */ var _awesome_cordova_plugins_screen_orientation_ngx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @awesome-cordova-plugins/screen-orientation/ngx */ 11898);









let MatchesPage = class MatchesPage {
    constructor(accountService, matchService, teamService, screenOrientation, modalService) {
        this.accountService = accountService;
        this.matchService = matchService;
        this.teamService = teamService;
        this.screenOrientation = screenOrientation;
        this.modalService = modalService;
        this.matches = [];
        this.isLoading = false;
        this.matchesFiltered = [];
        this.screenOrientation.lock(this.screenOrientation.ORIENTATIONS.PORTRAIT);
        this.accountService.hasAuthority('ROLE_ADMIN').then(res => {
            this.admin = res;
            console.log(this.admin);
        });
    }
    ngOnInit() {
        this.loadAll();
    }
    loadAll() {
        this.isLoading = true;
        return this.matchService.getMatchesToplay().subscribe({
            next: (res) => {
                var _a, _b;
                this.isLoading = true;
                this.matches = (_a = res.body) !== null && _a !== void 0 ? _a : [];
                this.matchesFiltered = (_b = res.body) !== null && _b !== void 0 ? _b : [];
                console.log(this.matches);
            },
            error: () => {
                this.isLoading = false;
            },
        });
    }
    search(query) {
        this.matchesFiltered = this.matches.filter(match => {
            return match.localId.includes(query) || match.awayId.includes(query);
        });
    }
    trackId(_index, item) {
        return item.id;
    }
    stringToDate(matchDay) {
        //const dateFromIonDatetime = this.match.value['fecha']; //2022-08-18T22:48:00+02:00
        const [dia, hora] = matchDay.split('T');
        const [year, month, day] = dia.split('-');
        const [hours, minutes, seconds] = hora.split(':');
        return day + '-' + month + '-' + year + ' ' + hours + ':' + minutes + 'h';
    }
    dateValue(matchDay) {
        var today = new Date();
        var partido = new Date(matchDay);
        partido.setHours(partido.getHours() - 2);
        partido.setMinutes(partido.getMinutes() - 5);
        var later = new Date(matchDay);
        later.setHours(later.getHours() + 3);
        var res = false;
        if (partido.getTime() <= today.getTime() && today.getTime() <= later.getTime()) {
            res = true;
        }
        return res;
    }
    doRefresh(event) {
        this.matches = [];
        this.matchesFiltered = [];
        this.loadAll();
        event.target.complete();
    }
};
MatchesPage.ctorParameters = () => [
    { type: _services_auth_account_service__WEBPACK_IMPORTED_MODULE_4__.AccountService },
    { type: src_app_services_match_match_service__WEBPACK_IMPORTED_MODULE_2__.MatchService },
    { type: src_app_services_team_team_service__WEBPACK_IMPORTED_MODULE_3__.TeamService },
    { type: _awesome_cordova_plugins_screen_orientation_ngx__WEBPACK_IMPORTED_MODULE_5__.ScreenOrientation },
    { type: _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_6__.NgbModal }
];
MatchesPage = (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([
    (0,_angular_core__WEBPACK_IMPORTED_MODULE_8__.Component)({
        selector: 'app-matches',
        template: _matches_page_html_ngResource__WEBPACK_IMPORTED_MODULE_0__,
        styles: [_matches_page_scss_ngResource__WEBPACK_IMPORTED_MODULE_1__]
    })
], MatchesPage);



/***/ })

}]);
//# sourceMappingURL=src_app_pages_matches_matches_module_ts.js.map