{"version":3,"file":"src_app_pages_statistics_statistics_module_ts.js","mappings":"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","sources":["./src/app/pages/statistics/statistics-routing.module.ts","./src/app/pages/statistics/statistics.module.ts","./src/app/pages/statistics/statistics.page.ts","./src/app/services/events/enumerations/event-type.model.ts","./src/app/services/events/event.model.ts","./src/app/services/posesion/posesion.model.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { StatisticsPage } from './statistics.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: StatisticsPage,\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class StatisticsPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormBuilder, FormsModule } from '@angular/forms';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { StatisticsPageRoutingModule } from './statistics-routing.module';\r\n\r\nimport { StatisticsPage } from './statistics.page';\r\n\r\n@NgModule({\r\n  imports: [CommonModule, FormsModule, IonicModule, StatisticsPageRoutingModule, TranslateModule],\r\n  declarations: [StatisticsPage],\r\n  providers: [FormBuilder],\r\n})\r\nexport class StatisticsPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { PickerController } from '@ionic/angular';\r\nimport { NavController, ToastController } from '@ionic/angular';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Observable } from 'rxjs';\r\nimport { EventsService } from 'src/app/services/events/events.service';\r\nimport { finalize, map } from 'rxjs/operators';\r\nimport { Event } from 'src/app/services/events/event.model';\r\nimport { EventType } from 'src/app/services/events/enumerations/event-type.model';\r\nimport { FormBuilder, ReactiveFormsModule } from '@angular/forms';\r\nimport { Posesion } from 'src/app/services/posesion/posesion.model';\r\nimport { PosesionService } from 'src/app/services/posesion/posesion.service';\r\nimport { ScreenOrientation } from '@awesome-cordova-plugins/screen-orientation/ngx';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { AccountService } from 'src/app/services/auth/account.service';\r\nimport { Account } from 'src/model/account.model';\r\n\r\n@Component({\r\n  selector: 'app-statistics',\r\n  templateUrl: './statistics.page.html',\r\n  styleUrls: ['./statistics.page.scss'],\r\n})\r\nexport class StatisticsPage implements OnInit {\r\n  isSaving = false;\r\n  eventTypeValues = Object.keys(EventType);\r\n  id;\r\n  account: Account;\r\n\r\n  constructor(\r\n    private pickerController: PickerController,\r\n    public navController: NavController,\r\n    public eventsService: EventsService,\r\n    public posesionService: PosesionService,\r\n    public toastController: ToastController,\r\n    public translateService: TranslateService,\r\n    protected fb: FormBuilder,\r\n    private router: Router,\r\n    private screenOrientation: ScreenOrientation,\r\n    private route: ActivatedRoute,\r\n    private accountService: AccountService\r\n  ) {\r\n    this.screenOrientation.lock(this.screenOrientation.ORIENTATIONS.LANDSCAPE);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.accountService.identity().then(account => {\r\n      if (account != null) {\r\n        this.account = account;\r\n      }\r\n    });\r\n    this.route.params.subscribe(params => {\r\n      this.id = params.id;\r\n    });\r\n  }\r\n\r\n  async inicioButton() {\r\n    const toastLocal = await this.toastController.create({\r\n      message: 'El equipo local ha obtenido la posesión',\r\n      duration: 2000,\r\n      position: 'top',\r\n      color: 'light',\r\n    });\r\n    const toastVisit = await this.toastController.create({\r\n      message: 'El equipo visitante ha obtenido la posesión',\r\n      duration: 2000,\r\n      position: 'top',\r\n      color: 'light',\r\n    });\r\n    const picker = await this.pickerController.create({\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          role: 'cancel',\r\n        },\r\n        {\r\n          text: 'Confirm',\r\n          handler: (value: any) => {\r\n            //TODO Save\r\n            this.saveInicio(value['equipo']['value']);\r\n            if (value['equipo']['value'] == false) {\r\n              toastLocal.present();\r\n            } else {\r\n              toastVisit.present();\r\n            }\r\n\r\n            console.log(value['equipo']['value'], new Date());\r\n          },\r\n        },\r\n      ],\r\n      columns: [\r\n        {\r\n          name: 'equipo',\r\n          options: [\r\n            { text: 'Local', value: false },\r\n            { text: 'Visitante', value: true },\r\n          ],\r\n        },\r\n      ],\r\n    });\r\n    await picker.present();\r\n  }\r\n\r\n  async eventosButton() {\r\n    const picker = await this.pickerController.create({\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          role: 'cancel',\r\n        },\r\n        {\r\n          text: 'Confirm',\r\n          handler: (value: any) => {\r\n            //TODO Save\r\n            this.save(value['evento']['value'], value['equipo']['value']);\r\n            console.log(value['equipo']['value']);\r\n            console.log(value['evento']['value']);\r\n          },\r\n        },\r\n      ],\r\n      columns: [\r\n        {\r\n          name: 'evento',\r\n          options: [\r\n            { text: 'Amarilla', value: EventType.AMARILLA },\r\n            { text: 'Roja', value: EventType.ROJA },\r\n            { text: 'Gol', value: EventType.GOL },\r\n            { text: 'Falta', value: EventType.FALTA },\r\n            { text: 'Tiro', value: EventType.TIRO },\r\n            { text: 'Corner', value: EventType.CORNER },\r\n            { text: 'Fuera de Juego', value: EventType.FUERA_DE_JUEGO },\r\n          ],\r\n        },\r\n        {\r\n          name: 'equipo',\r\n          options: [\r\n            { text: 'Equipo local', value: false },\r\n            { text: 'Equipo visitante', value: true },\r\n          ],\r\n        },\r\n      ],\r\n    });\r\n\r\n    await picker.present();\r\n  }\r\n\r\n  save(eventTypeValue, teamValue): void {\r\n    this.isSaving = true;\r\n    const event = this.createFromForm(eventTypeValue, teamValue, this.id, this.account.id);\r\n    this.subscribeToSaveResponse(this.eventsService.create(event));\r\n  }\r\n\r\n  saveInicio(teamValue): void {\r\n    this.isSaving = true;\r\n    const posesion = this.createFromPosesion(teamValue, new Date().getTime(), this.id, this.account.id);\r\n    this.subscribeToSaveResponse(this.posesionService.create(posesion));\r\n  }\r\n\r\n  async saveFinal() {\r\n    this.isSaving = true;\r\n    //const teamValue = this.posesionService.query();\r\n    const event = this.closeFromPosesion(null, new Date().getTime(), this.id, this.account.id);\r\n    const toasti = await this.toastController.create({\r\n      message: 'Se ha finalizado la posesión ',\r\n      duration: 2000,\r\n      position: 'top',\r\n      color: 'light',\r\n    });\r\n    toasti.present();\r\n    this.subscribeToSaveResponse(this.posesionService.close(event));\r\n  }\r\n\r\n  async saveChange() {\r\n    this.isSaving = true;\r\n    const teamValue = this.posesionService.query();\r\n    const event = this.createFromPosesion(null, new Date().getTime(), this.id, this.account.id);\r\n    const toasti = await this.toastController.create({\r\n      message: 'Se ha cambiado la posesión ',\r\n      duration: 2000,\r\n      position: 'top',\r\n      color: 'light',\r\n    });\r\n    toasti.present();\r\n    this.subscribeToSaveResponse(this.posesionService.change(event));\r\n  }\r\n\r\n  protected createFromForm(eventTypeValue, teamValue, id, userId): Event {\r\n    return {\r\n      ...new Event(),\r\n      eventType: eventTypeValue,\r\n      team: teamValue,\r\n      matchId: id,\r\n      userId: userId,\r\n    };\r\n  }\r\n\r\n  protected createFromPosesion(teamValue, timeValue, id, userId): Posesion {\r\n    return {\r\n      ...new Posesion(),\r\n      team: teamValue,\r\n      start: timeValue,\r\n      matchId: id,\r\n      userId: userId,\r\n    };\r\n  }\r\n\r\n  protected closeFromPosesion(teamValue, timeValue, id, userId): Posesion {\r\n    return {\r\n      ...new Posesion(),\r\n      team: teamValue,\r\n      end: timeValue,\r\n      matchId: id,\r\n      userId: userId,\r\n    };\r\n  }\r\n\r\n  protected subscribeToSaveResponse(result: Observable<ArrayBuffer>): void {\r\n    result.pipe(finalize(() => this.onSaveFinalize())).subscribe({\r\n      next: () => this.onSaveSuccess(),\r\n      error: () => this.onSaveError(),\r\n    });\r\n  }\r\n\r\n  protected onSaveSuccess(): void {}\r\n\r\n  protected onSaveError(): void {\r\n    // Api for inheritance.\r\n  }\r\n\r\n  protected onSaveFinalize(): void {}\r\n\r\n  backToMatches() {\r\n    this.screenOrientation.lock(this.screenOrientation.ORIENTATIONS.PORTRAIT);\r\n    this.router.navigate(['/tabs/matches']).then();\r\n  }\r\n}\r\n","export enum EventType {\r\n  GOL = 'GOL',\r\n\r\n  FALTA = 'FALTA',\r\n\r\n  AMARILLA = 'AMARILLA',\r\n\r\n  ROJA = 'ROJA',\r\n\r\n  TIRO = 'TIRO',\r\n\r\n  CORNER = 'CORNER',\r\n\r\n  PENALTI = 'PENALTI',\r\n\r\n  FUERA_DE_JUEGO = 'FUERA_DE_JUEGO',\r\n}\r\n","import { Match } from 'src/app/services/match/match.model';\r\nimport { EventType } from './enumerations/event-type.model';\r\n\r\nexport class Event {\r\n  public id?: number;\r\n  public eventType?: EventType;\r\n  public team?: boolean;\r\n  public matchId?: number;\r\n  public userId?: number;\r\n\r\n  constructor(id?: number, eventType?: EventType, team?: boolean, matchId?: number, userId?: number) {\r\n    this.id = id ? id : null;\r\n    this.eventType = eventType ? eventType : null;\r\n    this.team = team ? team : null;\r\n    this.matchId = matchId ? matchId : null;\r\n    this.userId = userId ? userId : null;\r\n  }\r\n}\r\n","//import dayjs from 'dayjs/esm';\n\nexport class Posesion {\n  public id?: number;\n  public team?: boolean;\n  public start?: number;\n  public end?: number;\n  public matchId?: number;\n  public userId?: number;\n\n  constructor(id?: number, team?: boolean, start?: number, end?: number, matchId?: number, userId?: number) {\n    this.id = id ? id : null;\n    this.team = team ? team : null;\n    this.start = start ? start : null;\n    this.end = end ? end : null;\n    this.matchId = matchId ? matchId : null;\n    this.userId = userId ? userId : null;\n  }\n}\n"],"names":[],"sourceRoot":"webpack:///"}